# GFW-Knocker Configuration
# Flowless stateless relay - Advanced mode
#
# This configuration file controls the GFW-Knocker client behavior.
# GFW-Knocker uses malformed TCP packets with QUIC tunnel encapsulation.

# ============================================
# Local SOCKS5 Proxy Settings
# ============================================
# Applications connect to this local proxy
local_addr=127.0.0.1
local_port=14000

# ============================================
# Server Settings (REQUIRED)
# ============================================
# Your GFW-Knocker server address and port
# Port 443 recommended to blend with HTTPS traffic
# IMPORTANT: Update these values before starting the service
server_addr=YOUR_SERVER_IP
server_port=443

# ============================================
# Backend Settings (REQUIRED)
# ============================================
# GFW-Knocker forwards decapsulated traffic to Xray backend
# This must be configured on the server side
backend_addr=YOUR_BACKEND_IP
backend_port=8443

# ============================================
# Packet Manipulation Parameters
# ============================================
# TCP malformation strategy:
#   - syn_ack_confusion: Invalid TCP state transitions (default)
#   - fragmentation: Unusual packet fragmentation
#   - checksum_invalid: Intentionally bad checksums
#   - option_overflow: TCP option padding overflow
tcp_malform_mode=syn_ack_confusion

# QUIC encryption cipher:
#   - chacha20-poly1305 (default, recommended)
#   - aes-128-gcm
#   - aes-256-gcm
quic_encryption=chacha20-poly1305

# Connection timeout (seconds)
connection_timeout=30

# ============================================
# Performance Tuning
# ============================================
# Maximum concurrent connections
# Adjust based on expected load
max_connections=1024

# Buffer size per connection (bytes)
# Higher = better throughput, more memory usage
buffer_size=4096

# ============================================
# Advanced Options (Optional)
# ============================================
# Uncomment and adjust if needed

# Packet send rate limit (packets/second)
# Useful to avoid triggering rate-based detection
# rate_limit=1000

# Enable connection multiplexing
# Reduces number of TCP sessions
# multiplex=true

# Multiplexing sessions
# multiplex_sessions=8

# Enable debug logging
# debug=false

# Log file path
# log_file=/var/log/flowless/gfk.log

# Retry attempts on connection failure
# retry_attempts=3

# Retry delay (seconds)
# retry_delay=5
